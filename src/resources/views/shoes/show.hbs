<div class="container-fluid ">
    <div class="row mt-top">
        <div class="col">
            <img src="/uploads/{{shoe.image}}" alt="" width="100%">
        </div>
        <div class="col ">
            <form action="/shoes/add-to-cart" method="post">
                <input type="hidden" name="shoeId" value="{{shoe._id}}">
                <input type="hidden" name="amount" value="1">

                <h3 class="product-name">{{shoe.name}}</h3>
                <h3 class="price">{{shoe.price}}.000 đ</h3>
                <div class="size mt-5">
                    <label for="">Kích thước</label>
                    <div class="size-option">
                        <!-- Thay đổi các nút button thành các nút radio để người dùng có thể chọn size -->
                        <input type="radio" class="btn btn-danger" name="size" id="size36" value="36">
                        <label for="size36">36</label>
                        <input type="radio" class="btn btn-danger" name="size" id="size37" value="37">
                        <label for="size37">37</label>
                        <input type="radio" class="btn btn-danger" name="size" id="size38" value="38">
                        <label for="size38">38</label>
                        <input type="radio" class="btn btn-danger" name="size" id="size39" value="39">
                        <label for="size39">39</label>
                        <input type="radio" class="btn btn-danger" name="size" id="size40" value="40">
                        <label for="size40">40</label>
                        <input type="radio" class="btn btn-danger" name="size" id="size41" value="41">
                        <label for="size41">41</label>
                        <input type="radio" class="btn btn-danger" name="size" id="size42" value="42">
                        <label for="size42">42</label>
                    </div>
                </div>
                <div class="order">
                    <div class="row">
                        <div class="col-4">
                            <button type="submit" class="btn order-buy">Mua Ngay</button>
                        </div>
                    </div>
                </div>
            </form>
            <div class="row mt-3">
                <div class="col-4">
                    <form action="/add-wishlist" method="post">
                        <input type="hidden" name="shoeId" value="{{shoe._id}}">
                         <input type="hidden" name="size" id="wishlistSize">
                        <button class="btn btn-light btn-block"> <i class="fa-regular fa-heart"></i> Thêm vào yêu thích</button>
                    </form>
                </div>
            </div>

            <div class="detail mt-5 ">
                <div class="detail-product col-12 border">
                    <h4>Chi tiết sản phẩm</h4>
                </div>
                <div class="col-12 border p-3">
                    <h6>MÃ SẢN PHẨM : {{shoe.name}}</h6>
                    <p>{{shoe.description}}</p>
                    <h6>Chi tiết sản phẩm</h6>
                    <ul>
                        <li>Chiều cao : {{shoe.height}}</li>
                        <li>Chất liệu : {{shoe.material}}</li>
                        <li>Đế : {{shoe.soleMaterial}}</li>
                        <li>Kiểu dáng : {{shoe.typeDetail}}</li>
                        <li>Xuất sứ : {{shoe.origin}}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const sizeInputs = document.querySelectorAll('input[name="size"]');
        const wishlistSizeInput = document.getElementById('wishlistSize');

        // Cập nhật giá trị size cho input ẩn khi chọn size
        sizeInputs.forEach(input => {
            input.addEventListener('change', function () {
                wishlistSizeInput.value = this.value;
            });
        });

        // Kiểm tra nếu size đã được chọn
        function isSizeSelected() {
            return wishlistSizeInput.value !== '';
        }

        // Kiểm tra form "Thêm vào yêu thích"
        const wishlistForm = document.querySelector('form[action="/add-wishlist"]');
        wishlistForm.addEventListener('submit', function (event) {
            if (!isSizeSelected()) {
                event.preventDefault(); // Ngăn không cho gửi form
                alert('Vui lòng chọn kích thước trước khi thêm vào yêu thích!');
            }
        });

        // Kiểm tra form "Mua Ngay"
        const orderForm = document.querySelector('form[action="/shoes/add-to-cart"]');
        orderForm.addEventListener('submit', function (event) {
            if (!isSizeSelected()) {
                event.preventDefault(); // Ngăn không cho gửi form
                alert('Vui lòng chọn kích thước trước khi mua sản phẩm!');
            }
        });
    });
</script>


